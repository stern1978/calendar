<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="-1" />
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta http-equiv="refresh" content="60; url=http://192.168.1.200:8012">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/static/css/mystyle.css">
    <title>Calendar</title>
</head>
<body>
    <div class="column">
        <!-- Header displaying today's date -->
        <table style="width: 100%;">
            <tr>
                <th style="text-align: center;">Today is {{today}}</th>
            </tr>
        </table>

        <!-- Check if the calendar has events -->
        {% if calendar %}
            {% for x in calendar %}
            <table style="width: 100%; border-bottom: 1px solid grey; margin-top: 10px;">
                <tr>
                    <td style="line-height: 1; text-align: left; width: 25%; font-size: 30px;">
                        {{x[3]}}  <!-- Start Date -->
                    </td>
                    <td style="line-height: 1; text-align: left; width: 75%; font-size: 70%;">
                        {{x[0]}}  <!-- Summary -->
                    </td>
                </tr>
                <tr>
                    <td style="line-height: 1; text-align: left; width: 50%; font-size: 25px;">
                        {{x[2]}}  <!-- Start Time -->
                    </td>
                    <td style="line-height: 1; text-align: left; width: 25%; font-size: 20px; color: grey;">
                        {{x[1]}}  <!-- Location -->
                    </td>
                </tr>
                <tr>
                    <td colspan="2" style="line-height: 1; text-align: left; width: 75%; font-size: 20px;">
                        In 
                        {% if x[5] > 0 %}{{x[5]}} month{% if x[5] > 1 %}s{% endif %}{% endif %}
                        {% if x[4] > 0 %} {{x[4]}} day{% if x[4] > 1 %}s{% endif %}{% endif %}
                        {% if x[4] == 0 and x[6] > 0 %} <!-- Only show hours if less than a day -->
                            {{x[6]}} hour{% if x[6] > 1 %}s{% endif %}
                        {% endif %}
                    </td>
                </tr>
            </table>
            {% endfor %}
        {% else %}
            <p>No upcoming events found.</p>
        {% endif %}
    </div>
</body>
</html>
